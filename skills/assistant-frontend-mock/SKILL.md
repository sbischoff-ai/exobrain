# assistant-frontend-mock

## Use this skill when

- Task touches `apps/assistant-frontend` UI/UX, layout, interaction, or client-side state flow.
- You need frontend-only iteration without backend startup.
- You need deterministic mock API behavior for journaling/chat UX validation.

## Canonical references

- [`docs/agents/codex-runbook.agent.md`](../../docs/agents/codex-runbook.agent.md)
- [`AGENTS.md`](../../AGENTS.md)

## Command sequence (exact repo scripts)

1. Start frontend in mock API mode:

```sh
./scripts/agent/run-assistant-frontend-mock.sh
```

2. Open UI at `http://localhost:5173`.

3. Login with seeded mock credentials:
   - email: `test.user@exobrain.local`
   - password: `password123`

4. Optional frontend test loop:

```sh
cd apps/assistant-frontend
npm test
```

5. Optional E2E validation in mock mode:

```sh
./scripts/agent/run-assistant-frontend-e2e.sh
```

## Failure handling

- **Node dependencies missing/invalid**
  - Reinstall in frontend app and retry:

```sh
cd apps/assistant-frontend
npm install
```

- **Playwright dependency/browser issue during E2E**
  - Re-run helper with reinstall flag:

```sh
E2E_FORCE_REINSTALL=true ./scripts/agent/run-assistant-frontend-e2e.sh
```

- **Port conflict on `5173`**
  - Stop conflicting process and re-run `run-assistant-frontend-mock.sh`.
- **Backend endpoints accidentally hit during mock flow**
  - Ensure `ASSISTANT_FRONTEND_MOCK_API=true` (set by script) and restart command.

## Expected verification output

- `run-assistant-frontend-mock.sh` starts Vite dev server bound to `0.0.0.0:5173`.
- Mock-mode login succeeds with seeded credentials.
- `run-assistant-frontend-e2e.sh` exits `0` for passing suite and prints run summary.

## Rollback / cleanup

- Stop the running dev/e2e process with `Ctrl+C`.
- If needed, remove test artifacts generated by Playwright under `e2e/test-results`.
